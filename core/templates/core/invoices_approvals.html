<!-- Approvals Section Template -->
<!-- Uses reusable allocations section for approved invoices awaiting Xero submission -->

{% include "core/components/reusable_allocations_section.html" with section_id="approvals" main_table_columns=main_table_columns allocations_columns=allocations_columns allocations_title="Invoice Allocations" viewer_placeholder_text="Click on an invoice to view the PDF" viewer_placeholder_icon="fas fa-file-pdf" readonly=readonly %}

<!-- Approvals-specific CSS overrides -->
<style>
    /* Action buttons styling */
    .approvals-action-btn {
        font-size: 10px;
        padding: 2px 6px;
        margin: 0 2px;
    }
    
    /* Re-apply compact table styles */
    #approvalsMainTable {
        font-size: 12px;
    }
    
    #approvalsMainTable th {
        padding: 6px 5px !important;
        font-size: 11px;
        white-space: nowrap;
        vertical-align: middle;
    }
    
    #approvalsMainTable td {
        padding: 4px 5px !important;
        font-size: 11px;
        vertical-align: middle;
    }
    
    #approvalsMainTable .form-control-sm {
        font-size: 11px;
        padding: 3px 5px;
        height: 28px;
        min-height: 28px;
    }
    
    #approvalsMainTable input[type="text"],
    #approvalsMainTable input[type="number"] {
        font-size: 11px;
        padding: 3px 5px;
        height: 28px;
    }
    
    #approvalsMainTableFooter td {
        font-size: 11px;
    }
    
    /* Truncate long text in specific columns to 2 lines with ellipsis */
    .truncate-2-lines {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
        max-height: 2.6em;
        line-height: 1.3em;
        word-break: break-word;
    }
    
    /* Make action buttons consistent 2-row height */
    .approvals-send-btn,
    .approvals-return-btn {
        min-height: 2.6em;
        line-height: 1.2em;
        white-space: normal;
        padding: 4px 8px !important;
    }
</style>
