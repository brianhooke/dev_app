<!-- Approvals Section Template -->
<!-- Uses reusable allocations section with AllocationsManager (readonly view) -->
{% load static %}

{% include "core/components/reusable_allocations_section.html" with section_id="approvals" main_table_columns=main_table_columns allocations_columns=allocations_columns allocations_title="Invoice Allocations" viewer_placeholder_text="Click on an invoice to view the PDF" viewer_placeholder_icon="fas fa-file-pdf" readonly=readonly %}

<!-- Approvals-specific CSS overrides -->
<style>
    /* Action buttons styling */
    .approvals-action-btn {
        font-size: 10px;
        padding: 2px 6px;
        margin: 0 2px;
    }
    
    /* Truncate long text in specific columns to 2 lines with ellipsis */
    .truncate-2-lines {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
        max-height: 2.6em;
        line-height: 1.3em;
        word-break: break-word;
    }
    
    /* Make action buttons consistent 2-row height */
    .approvals-send-btn,
    .approvals-return-btn {
        min-height: 2.6em;
        line-height: 1.2em;
        white-space: normal;
        padding: 4px 8px !important;
    }
</style>

<!-- Load AllocationsManager and Approvals Section JS -->
<script src="{% static 'core/js/allocations_manager.js' %}"></script>
<script src="{% static 'core/js/invoices_approvals_section.js' %}"></script>
