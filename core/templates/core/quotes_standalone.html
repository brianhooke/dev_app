{% extends 'core/master.html' %}
{% load static %}

{% block title %}Quotes - AllocationsManager Test{% endblock %}

{% block content %}
<div class="container-fluid" style="padding: 20px;">
    <h2>Quotes Section - AllocationsManager Proof of Concept</h2>
    <p class="text-muted">This is a test page for the new AllocationsManager integration.</p>
    <hr>
    
    <!-- The reusable allocations section -->
    <div style="height: 70vh;">
        {% include "core/components/reusable_allocations_section.html" with section_id="quote" main_table_columns=main_table_columns allocations_columns=allocations_columns allocations_title="Quote Allocations" viewer_placeholder_text="Click on a quote to view the PDF" viewer_placeholder_icon="fas fa-file-alt" %}
    </div>
</div>

<!-- Pass project PK to JavaScript -->
<script>
    window.projectPk = {{ project_pk|default:"null" }};
    window.costings = {{ costings|safe|default:"[]" }};
</script>

<!-- Load required JS in order -->
<script src="{% static 'core/js/utils.js' %}"></script>
<script src="{% static 'core/js/allocations_manager.js' %}"></script>
<script src="{% static 'core/js/quotes_section.js' %}"></script>
{% endblock %}
