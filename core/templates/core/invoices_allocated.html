<!-- Allocated Invoices Section Template -->
<!-- Uses reusable allocations section with AllocationsManager (readonly view) -->
{% load static %}

{% include "core/components/reusable_allocations_section.html" with section_id="allocatedInvoice" main_table_columns=main_table_columns allocations_columns=allocations_columns allocations_title="Invoice Allocations" viewer_placeholder_text="Click on an invoice to view the PDF" viewer_placeholder_icon="fas fa-file-pdf" readonly=readonly %}

<!-- Allocated invoice-specific CSS overrides -->
<style>
    /* Action buttons styling */
    .allocated-action-btn {
        font-size: 10px;
        padding: 2px 6px;
        margin: 0 2px;
    }
</style>

<!-- Load AllocationsManager and Allocated Invoices Section JS -->
<script src="{% static 'core/js/allocations_manager.js' %}"></script>
<script src="{% static 'core/js/invoices_allocated_section.js' %}"></script>

<!-- Pass project PK to JavaScript (if available from context) -->
<script>
    if ('{{ project_pk }}' && '{{ project_pk }}' !== 'None') {
        window.projectPk = '{{ project_pk }}';
    }
</script>
